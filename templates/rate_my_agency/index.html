{% extends 'rate_my_agency/base.html' %}
{% load static %}


<!--
<style>
	.button {
	  background-color: white; 
	  border: 2px solid #4CAF50;
	  color: black;
	  padding: 16px 32px;
	  text-align: center;
	  text-decoration: none;
	  display: inline-block;
	  font-size: 16px;
	  margin: 4px 2px;
	  transition-duration: 0.4s;
	  cursor: pointer;
	}

	.button:hover {
	  background-color: #4CAF50;
	  color: white;
	}
</style>
-->

{% block title_block %}
	Homepage 
{% endblock %}
	
{% block body_block %}
	<div>
	{% if user.is_authenticated %}
		Welcome <strong>{{ user.username }}!</strong>
	{% else %}
		Welcome!
	{% endif %}
	<br />
		<strong>{{ boldmessage }}</strong><br />
	</div>
	
	<div>
		<h2>Search for agencies by city:</h2>
		{% if cities %}
			<ul>
			{% for city in cities %}
				<li>
					<a href="/rate_my_agency/city/{{ city.slug }}/">{{ city.name }}</a>
				</li>
			{% endfor %}
			</ul>
		{% else %}
			<strong>There are no cities currently available</strong>
		{% endif %}
	</div>
	
	<div>
		<h2>Top rated agencies:</h2>
		Should have similar code to search by city above, but cannot implement currently as we don't have
		the rating system working yet. Thinking we should have a field called "approval" in the Agency model,
		so as to avoid confusion with <strong>individual</strong> user ratings? This would just be a percentage
		of ratings which were likes. Not sure exact logistics of that yet though - maybe we should ask the tutor.<br>
		-Paul
	</div>
	
	<div>
		<h2>Busiest Agencies</h2>
		{% if agencies %}
			<ul>
			{% for agency in busyAgencies %}
				<li><a href="/rate_my_agency/agency/{{ agency.slug }}/">{{ agency.agencyName }}</a></li>
			{% endfor %}
			</ul>
		{% else %}
			<strong>There are no agencies currently available</strong>
		{% endif %}
	</div>
		
	<div>
		<h2>Search By Agency Name:</h2>
		<form method="get">
			{{myFilter.form}}
		<button class="button" type="submit">Search</button>
		{% if agencies %}
			{% for agency in agencies %}
				<ul><li><div><a href="/rate_my_agency/agency/{{ agency.slug }}/">{{ agency.agencyName }}</a></div> </li></ul>
			{% endfor %}
		{% else %}
			<strong>There are no agencies that match this search.</strong>
		{% endif %}
		</form>
		
	<br>
{% endblock %}
		
		
	
	
	
	